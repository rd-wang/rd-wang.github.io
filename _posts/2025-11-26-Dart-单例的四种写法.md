---
title: Dart-单例的四种写法
date: 2025-11-26 19:17:51 +0800
categories:
  - dart
tags:
  - dart
  - flutter
description: 单例的四种写法
math: true
---
> [Dart语言详解](https://rd-wang.github.io/posts/Dart-基础概念和内部原理/)

### dart中的单例

#### 工厂构造 Factory constructor

```dart
class Singleton{

  Singleton._privateConstructor();

  static final Singleton _instance = Singleton._privateConstructor();

  factory Singleton(){
    return _instance;
  }

}

void main() {
	Singleton s = Singleton();
}
```

#### 静态变量 Static field with getter
```dart
class Singleton{

  Singleton._privateConstructor();

  static final Singleton _instance = Singleton._privateConstructor();

  static Singleton get instance { return _instance;}

}

void main() {
	Singleton s = Singleton.instance;
}
```

#### 静态变量 Static field

```dart
class Singleton {

  Singleton._privateConstructor();

  static final Singleton instance = Singleton._privateConstructor();

}

void main() {
	Singleton s = Singleton.instance;
}
```

#### 常量和工厂构造 const constructor & factory
```dart
class Singleton {
  factory Singleton() =>
    const Singleton._internal_();
  const Singleton._internal_();
}


void main() {
  print(new Singleton() == new Singleton());
  print(identical(new Singleton() , new Singleton()));
}
```